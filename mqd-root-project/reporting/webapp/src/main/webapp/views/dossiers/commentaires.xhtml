<?xml version="1.0" encoding="UTF-8" ?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:pe="http://primefaces.org/ui/extensions">
	
	<f:metadata>
		<f:event type="preRenderView" listener="#{commentaireBean.setup}" />
	</f:metadata>
	
	<h:form id="formCommentaire">
		<h:panelGroup id="commentairesSaisie">
    		<p:inputTextarea placeholder="#{label['dossiers.overview.commentaires_saisie.saisir_nouveau_commentaire']}" value="#{commentaireBean.commentaire}" required="true" rows="6" cols="33" />
			<p:commandButton value="#{label['dossiers.overview.commentaires_input.libelle_bouton']}" actionListener="#{commentaireBean.ajouterCommentaire}" update="commentairesGroup" style="background:#0081c2;color:#ffffff;width:90px;height:40px"/>
 		</h:panelGroup>
 	</h:form>
 	<h:panelGroup id="commentairesGroup">
	 	<p:dataTable var="commentaire" value="#{commentaireBean.commentaires}"
				id="commentairesTable" widgetVar="commentaires_table" reflow="true"
				emptyMessage="Aucun historique n'a été trouvée.">
				<p:column width="200"
					headerText="#{label['dossiers.overview.commentaires_table.date_creation']}">
					<h:outputText value="#{commentaire.dateCreation}">
						<f:convertDateTime pattern="dd/MM/yyyy HH:mm:ss" />
					</h:outputText>
				</p:column>
				<p:column
					headerText="#{label['dossiers.overview.commentaires_table.commentaire_du_dossier']}">
					<h:outputText value="#{commentaire.contenu}" />
				</p:column>
		</p:dataTable>	
	</h:panelGroup>	
	

</ui:composition>