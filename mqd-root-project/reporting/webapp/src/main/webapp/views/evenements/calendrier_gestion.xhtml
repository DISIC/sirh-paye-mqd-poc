<?xml version="1.0" encoding="UTF-8" ?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:pe="http://primefaces.org/ui/extensions">

	<f:metadata>
		<f:event type="preRenderView" listener="#{calendrierGestionBean.setup}" />
	</f:metadata>

	<h:form id="formCalendrierGestion">
		<div id="calendrier_gestion_toolbar">
			<p:schedule id="schedule"
				value="#{calendrierGestionBean.scheduleModel}"
				widgetVar="myschedule" timeZone="UTC" clientTimeZone="UTC"
				locale="fr">

				<p:ajax event="dateSelect"
					listener="#{calendrierGestionBean.onDateSelect}"
					update="eventDetails" oncomplete="PF('eventDialog').show();" />
				<p:ajax event="eventSelect"
					listener="#{calendrierGestionBean.onEventSelect}"
					update="eventDetails" oncomplete="PF('eventDialog').show();" />
				<p:ajax event="eventMove"
					listener="#{calendrierGestionBean.onEventMove}" update="messages" />
				<p:ajax event="eventResize"
					listener="#{calendrierGestionBean.onEventResize}" update="messages" />

			</p:schedule>
		</div>
		<p:dialog widgetVar="eventDialog" 
			header="#{label['evenement.overview.calendrier_gestion.event.dialog.header']}"
			showEffect="clip" hideEffect="clip">
			<h:panelGrid id="eventDetails" columns="2">
				<p:outputLabel for="title"
					value="#{label['evenement.overview.calendrier_gestion.event.dialog.evenement.label']}" />
				<p:inputText id="title" value="#{calendrierGestionBean.event.title}" readonly="true" disabled="true"
					required="true" />

				<p:outputLabel for="type"
					value="#{label['evenement.overview.calendrier_gestion.event.dialog.type.label']}" />
				<p:inputText id="type" readonly="true" disabled="true"
					value="#{calendrierGestionBean.event.data.type}"
					required="true" />

				<p:outputLabel for="from"
					value="#{label['evenement.overview.calendrier_gestion.event.dialog.debut.label']}" />
				<p:calendar id="from" readonly="true" disabled="true"
					value="#{calendrierGestionBean.event.startDate}" timeZone="UTC"
					pattern="dd/MM/yyyy HH:mm" />

				<p:outputLabel for="to"
					value="#{label['evenement.overview.calendrier_gestion.event.dialog.echeance.label']}" />
				<p:calendar id="to" value="#{calendrierGestionBean.event.endDate}" readonly="true" disabled="true"
					timeZone="UTC" pattern="dd/MM/yyyy HH:mm" />

				<p:outputLabel for="acteurs"
					value="#{label['evenement.overview.calendrier_gestion.event.dialog.acteurs.label']}" />
				<p:inputText id="acteurs" readonly="true" disabled="true"
					value="#{calendrierGestionBean.event.data.acteurs}"
					required="true" />

				<p:outputLabel for="corps"
					value="#{label['evenement.overview.calendrier_gestion.event.dialog.corps.label']}" />
				<p:inputText id="corps" readonly="true" disabled="true"
					value="#{calendrierGestionBean.event.data.corps}"
					required="true" />

				<p:outputLabel for="service"
					value="#{label['evenement.overview.calendrier_gestion.event.dialog.service.label']}" />
				<p:inputText id="service" readonly="true" disabled="true"
					value="#{calendrierGestionBean.event.data.service}"
					required="true" />

				<p:outputLabel for="couleur"
					value="#{label['evenement.overview.calendrier_gestion.event.dialog.couleur.label']}" />
				<p:inputText id="couleur" readonly="true" disabled="true"
					value="#{calendrierGestionBean.event.data.couleur}"
					required="true" />
					
				<p:outputLabel for="commentaire"
					value="#{label['evenement.overview.calendrier_gestion.event.dialog.commentaire.label']}" />
				<p:inputText id="commentaire" readonly="true" disabled="true"
					value="#{calendrierGestionBean.event.description}"
					required="true" />	

				<!-- <p:outputLabel for="allDay"
					value="#{label['evenement.overview.calendrier_gestion.event.dialog.journee.label']}" />
				<h:selectBooleanCheckbox id="allDay" readonly="true" disabled="true"
					value="#{calendrierGestionBean.event.allDay}" /> -->

				<!-- p:commandButton id="addButton"
					value="#{label['evenement.overview.calendrier_gestion.event.dialog.bouton_valider.label']}"
					actionListener="#{calendrierGestionBean.ajouterModifierEvenement}"
					oncomplete="PF('myschedule').update();PF('eventDialog').hide();" /> -->
			</h:panelGrid>
		</p:dialog>
	</h:form>
</ui:composition>